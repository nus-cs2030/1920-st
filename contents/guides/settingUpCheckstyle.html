<!DOCTYPE html>
<html>

<head>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="MarkBind 2.14.1">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>CS2030 AY19/20 Semester 2</title>
  <link rel="stylesheet" href="../../markbind/css/bootstrap.min.css">
  <link rel="stylesheet" href="../../markbind/css/bootstrap-vue.min.css">
  <link rel="stylesheet" href="../../markbind/fontawesome/css/all.min.css">
  <link rel="stylesheet" href="../../markbind/glyphicons/css/bootstrap-glyphicons.min.css">
  <link rel="stylesheet" href="../../markbind/css/octicons.css">
  <link rel="stylesheet" href="../../markbind/css/github.min.css">
  <link rel="stylesheet" href="../../markbind/css/markbind.css">
  <link rel="stylesheet" href="/1920-st/plugins/markbind-plugin-anchors/markbind-plugin-anchors.css">
  <link rel="stylesheet" href="../../markbind/layouts/default/styles.css">
  <link rel="stylesheet" href="../../markbind/css/page-nav.css">
</head>

<body data-spy="scroll" data-target="#page-nav" data-offset="100">
  <div id="app">
    <header>
      <navbar type="dark" class="temp-navbar">
        <a slot="brand" href="/1920-st/index.html" title="Home" class="navbar-brand">CS2030 AY19/20 Special Term</a>
        <div class="nav-link temp-dropdown-placeholder">Guides</div>
        <dropdown class="nav-link temp-dropdown"><template slot="_header">Guides</template>
          <li><a href="/1920-st/contents/guides/settingUpLabEnv.html" class="dropdown-item">Setting Up Lab Environment</a></li>
          <li><a href="/1920-st/contents/guides/settingUpJava.html" class="dropdown-item">Setting Up Java</a></li>
          <li><a href="/1920-st/contents/guides/settingUpVim.html" class="dropdown-item">Setting Up Vim</a></li>
          <li><a href="/1920-st/contents/guides/settingUpMacVim.html" class="dropdown-item">Setting Up MacVim</a></li>
          <li><a href="/1920-st/contents/guides/settingUpCheckstyle.html" class="dropdown-item">Setting Up Checkstyle</a></li>
        </dropdown>
        <div class="nav-link temp-dropdown-placeholder">Links</div>
        <dropdown class="nav-link temp-dropdown"><template slot="_header">Links</template>
          <li><a href="https://www.comp.nus.edu.sg/~cs2030/style/" class="dropdown-item" target="_blank">CS2030 Java Style Guide</a></li>
          <li><a href="https://www.comp.nus.edu.sg/~cs2030/javadoc/" class="dropdown-item" target="_blank">CS2030 Javadoc Specification</a></li>
          <li><a href="https://www.oracle.com/technetwork/java/javase/downloads/jdk11-downloads-5066655.html" class="dropdown-item" target="_blank">JDK 11 Download Link</a></li>
          <li><a href="https://codecrunch.comp.nus.edu.sg/" class="dropdown-item" target="_blank">Codecrunch</a></li>
          <li><a href="https://github.com/nus-cs2030/1920-st" class="dropdown-item" target="_blank">Github Repo</a></li>
          <li><a href="https://piazza.com/class/k9wlj14hz59682/" class="dropdown-item" target="_blank">Piazza Forum</a></li>
        </dropdown>
        <li slot="right">
          <form class="navbar-form">
            <searchbar :data="searchData" placeholder="Search" :on-hit="searchCallback" menu-align-right></searchbar>
          </form>
        </li>
      </navbar>
    </header>
    <div id="flex-body">

      <div id="content-wrapper">
        <br>
        <h1 id="setting-up-checkstyle">Setting Up Checkstyle<a class="fa fa-anchor" href="#setting-up-checkstyle" onclick="event.stopPropagation()"></a></h1>
        <br>
        <img src="/1920-st/contents/guides/images/checkstyle_0.png" style="display: block; margin: 0 auto;" width="60%">
        <br>
        <ol>
          <li>Go to CS2030 Luminus and download the 2 files under Files &gt; Miscellaneous:</li>
        </ol>
        <ul>
          <li><code>checkstyle-8.2-all.jar</code> - this provides the actual checkstyle program</li>
          <li><code>cs2030_checks.xml</code> - this provides the configuration file specifically for CS2030 for checkstyle</li>
        </ul>
        <p>Make sure you save them to a directory that you can remember. In this case, I chose to save them to <code>~/checkstyle_files</code>.</p>
        <p><img src="/1920-st/contents/guides/images/checkstyle_1.png" style="display: block; margin: 0 auto;" width="60%"><br></p>
        <ol start="2">
          <li>
            <p>In the shell, change directory to the folder where you saved the files, with <code>cd /place/where/you/saved/the/files</code>.</p>
          </li>
          <li>
            <p>Check that the files are there with <code>ls</code>.</p>
          </li>
          <li>
            <p>Your download files should already have the right read permissions, but we will set it again just to be sure. Run <code>chmod u+r checkstyle-8.2-all.jar cs2030_checks.xml</code>. What this command does is that it <strong>CH</strong>anges the <strong>MOD</strong>e of the files (i.e. its permissions), and adds <strong>r</strong>ead (<code>+r</code>) to the <strong>u</strong>ser (<code>u+r</code>).</p>
          </li>
          <li>
            <p>To help us accurately determine the location of the files later, run <code>realpath -e checkstyle-8.2-all.jar cs2030_checks.xml</code> (yes I missed out the <code>-e</code> switch in the screenshot above). <code>realpath</code> outputs the full absolute file path while the <code>-e</code> switch ensures it checks for file existence first.</p>
          </li>
        </ol>
        <p><img src="/1920-st/contents/guides/images/checkstyle_2.png" style="display: block; margin: 0 auto;" width="60%"><br></p>
        <ol start="6">
          <li>Now that we know the absolute location of the two files, we can create our very own <code>checkstyle</code> command. Run, in a single command, <code>echo 'alias checkstyle=&quot;java -jar your/full/filepath/here/checkstyle-8.2-all.jar -c your/full/filepath/here/cs2030_checks.xml *.java&quot;' &gt;&gt; ~/.bashrc</code>.</li>
        </ol>
        <ul>
          <li>remember to swap out the directories in the command above with your actual directories you found in step 5</li>
          <li>make sure you have TWO right brackets <code>&gt;&gt;</code> instead of one. the two right brackets ensures it appends to the <code>~/.bashrc</code> file instead of rewriting it.</li>
          <li>if you use any other shell like <code>zsh</code> or <code>fish</code>, please change the command to work with your respective shell configuration files, e.g. <code>~/.zshrc</code></li>
        </ul>
        <p>For me, I ran <code>echo 'alias checkstyle=&quot;java -jar /home/chris/checkstyle_files/checkstyle-8.2-all.jar -c /home/chris/checkstyle_files/cs2030_checks.xml *.java&quot;' &gt;&gt; ~/.bashrc</code>.</p>
        <p>What this command does is that it appends the line <code>alias checkstyle=&quot;java -jar /home/chris/checkstyle_files/checkstyle-8.2-all.jar -c /home/chris/checkstyle_files/cs2030_checks.xml *.java&quot;</code> to the end of your shell configuration file (commonly <code>~/.bashrc</code>). Your shell configuration file is ran (or more accurately, sourced) whenever you start your shell.</p>
        <p>As for <code>alias checkstyle=&quot;java -jar /home/chris/checkstyle_files/checkstyle-8.2-all.jar -c /home/chris/checkstyle_files/cs2030_checks.xml *.java&quot;</code>, what this does is that it sets a command alias called <code>checkstyle</code>, so that whenever you run <code>checkstyle</code> in your shell, it will run <code>java -jar /home/chris/checkstyle_files/checkstyle-8.2-all.jar -c /home/chris/checkstyle_files/cs2030_checks.xml *.java</code>, which is the command to properly run checkstyle and load the configuration file in java.</p>
        <ol start="7">
          <li>
            <p>Restart your shell, i.e. close it and start it again. (alternatively, you can just run <code>source ~/.bashrc</code>)</p>
          </li>
          <li>
            <p>Change directory to a directory with <code>.java</code> files and run <code>checkstyle</code>. It should work now.</p>
          </li>
        </ol>
        <p><img src="/1920-st/contents/guides/images/checkstyle_3.png" style="display: block; margin: 0 auto;" width="60%"><br></p>
        <br>
      </div>


      <nav id="page-nav" class="navbar navbar-light bg-transparent">
        <div class="border-left-grey nav-inner position-sticky slim-scroll">

          <nav class="nav nav-pills flex-column my-0 small no-flex-wrap">
            <a class="nav-link py-1" href="#setting-up-checkstyle">Setting Up Checkstyle&#x200E;</a>

          </nav>
        </div>
      </nav>
    </div>
    <footer>

      <div class="text-center">
        <small>Generated by <a href="https://markbind.org/">MarkBind 2.14.1</a> on Thu, May 7, 2020, 11:30:28 AM UTC</small></div>
    </footer>
  </div>
</body>
<script src="../../markbind/js/vue.min.js"></script>
<script src="../../markbind/js/vue-strap.min.js"></script>
<script src="../../markbind/js/bootstrap-utility.min.js"></script>
<script src="../../markbind/js/polyfill.min.js"></script>
<script src="../../markbind/js/bootstrap-vue.min.js"></script>
<script>
  const baseUrl = '/1920-st'
  const enableSearch = true
</script>
<script src="../../markbind/js/setup.js"></script>
<script src="../../markbind/layouts/default/scripts.js"></script>

</html>